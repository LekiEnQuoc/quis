--UI lib
local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()
--UI Window
local Window = redzlib:MakeWindow({
  Title = "Quis Hub",
  SubTitle = "by lekienquoc",
  SaveFolder = "Quis Hub"
})--UI Icon
Window:AddMinimizeButton({
    Button = { Image = "rbxassetid://71014873973869", BackgroundTransparency = 0 },
    Corner = { CornerRadius = UDim.new(35, 1) },
})
--UI Tab
local Tab1 = Window:MakeTab({"Um", "cherry"})
--UI Section
local Section = Tab1:AddSection({"Auto mixer"})
--local variable
local farmingmixer
local autosam
        -- üîπ Auto Spawn + Auto Farm Mixer Script Ho√†n Ch·ªânh (Fix: sau khi ch·∫øt v·∫´n u·ªëng n∆∞·ªõc)

        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local player = Players.LocalPlayer
        local SpawnEvent = ReplicatedStorage:WaitForChild("Connections"):WaitForChild("Spawn")

        -- Danh s√°ch juice
        local drinkList = {
            "Sour Juice",
            "Fruit Juice",
            "Pumpkin Juice",
            "Banana Juice",
            "Apple Juice",
            "Pear Juice",
            "Coconut Milk",
        }

        -- l·∫•y backpack m·ªõi nh·∫•t
        local function getBackpack()
            return player:WaitForChild("Backpack")
        end

        -- üîπ H√†m spawn
        local function spawnChar()
            print("‚ñ∂ Auto Spawn...")
            SpawnEvent:FireServer(10)
        end

        -- üîπ H√†m u·ªëng n∆∞·ªõc
        local function Uongnuoc()
            local backpack = getBackpack()
            for _, item in ipairs(backpack:GetChildren()) do
                if table.find(drinkList, item.Name) and item:IsA("Tool") then
                    item.Parent = player.Character
                    task.wait(0.01)
                    if player.Character:FindFirstChild(item.Name) then
                        print("ü•§ U·ªëng:", item.Name)
                        item:Activate()
                        task.wait(0.01)
                    end
                end
            end
        end

        -- üîπ H√†m teleport + click
        local function TeleportAndClick(x, y, z, radius)
            local char = player.Character or player.CharacterAdded:Wait()
            local hrp = char:WaitForChild("HumanoidRootPart")

            hrp.CFrame = CFrame.new(x, y, z)
            task.wait(0.05)

            local RADIUS = radius or 10
            for _, v in pairs(workspace:GetDescendants()) do
                if v:IsA("ClickDetector") then
                    local parentPart = v.Parent
                    if parentPart and parentPart:IsA("BasePart") then
                        if not (parentPart:IsDescendantOf(workspace.Merchants.QuestFishMerchant)
                            or parentPart:IsDescendantOf(workspace.Merchants.FishMerchant)) then

                            local distance = (hrp.Position - parentPart.Position).Magnitude
                            if distance <= RADIUS then
                                fireclickdetector(v, 1)
                            end
                        end
                    end
                end
            end
        end

        -- üîπ Danh s√°ch ƒëi·ªÉm teleport
        local teleportPoints = {
            {-1492.856812, 216.999985, -304.369904, 7},
            {-1509.853760, 216.999985, -288.241730},
            {-1547.135376, 216.999985, -305.709229},
            {-204.250305, 224.499985, -205.790115, 6},
            {-10.922343, 215.999985, -355.356842, 6},
            {-0.771519, 215.999985, -379.533539},
            {1174.637085, 216.999985, -286.647034},
            {1179.688110, 216.999985, -280.636566, 15},
            {1987.863281, 217.999985, 562.384155},
            {-1708.811890, 215.999985, -325.484009},
            {1012.40, 217.00, 3341.04},
            {893.09, 216.00, 3391.85, 30},
            {1166.29, 216.00, 3224.77},
            {-2611.89, 253.70, 1109.05, 20},
            {986.47, 224.00, -3334.53},
            {1979.76, 217.00, 554.20},
            {1992.30, 234.00, 571.38},
            {1968.65, 218.00, 576.20},
            {-1752.73, 216.00, -215.40},
            {-1753.26, 217.22, -327.55},
        }
        -- Danh s√°ch ƒë·∫£o v√† to·∫° ƒë·ªô
        local Islands = {
            ["Cave Island"] = Vector3.new(-194.74, 217.00, -891.58),
            ["Sand Island"] = Vector3.new(14.23, 225.00, 83.28),
            ["Sam Island"] = Vector3.new(-1285.34, 217.00, -1286.62),
            ["Bar Island"] = Vector3.new(1570.53, 254.00, 2080.40),
            ["Purple Island"] = Vector3.new(-5232.16, 390.00, -7718.27),
            ["Merlin Island"] = Vector3.new(-1669.60, 217.00, -327.11),
            ["Snow Moutain Island"] = Vector3.new(6251.43, 486.00, -1612.56),
            ["Gunslingers Island"] = Vector3.new(-1185.21, 218.00, 1433.38),
            ["Snow Island"] = Vector3.new(-1863.05, 222.00, 3229.98),
            ["Orange House Island"] = Vector3.new(731.68, 241.00, 1219.04),
            ["Rocky Island"] = Vector3.new(2042.45, 488.00, -720.06),
            ["Desert Casstle Island"] = Vector3.new(980.31, 224.00, -3249.99),
            ["Marine Island"] = Vector3.new(-3133.86, 275.80, -3653.82),
            ["Spiral Island"] = Vector3.new(-5890.76, 216.00, -8.01),
            ["Stone Island"] = Vector3.new(-2645.55, 252.56, 1018.72),
            ["Pyramid Island"] = Vector3.new(284.55, 216.00, 4954.38),
            ["Red House Island"] = Vector3.new(1053.05, 217.00, 3313.73),
            ["3 Big House Island"] = Vector3.new(1747.62, 218.00, 835.58),
            ["Moon Shaped Island"] = Vector3.new(3159.76, 217.00, 1556.41),
            ["Pursuer Island"] = Vector3.new(4848.78, 570.00, -7135.17),
            ["Vokun Island"] = Vector3.new(4671.28, 217.00, 4893.32),
            ["Small Rocky Island"] = Vector3.new(-35.31, 229.00, 2147.98),
            ["Heart Island"] = Vector3.new(2211.56, 217.00, -1960.47),
            ["Small Sand Island"] = Vector3.new(-1204.12, 224.00, 651.87),
            ["Small Palm Tree Island"] = Vector3.new(755.41, 216.00, -1370.97),
        }        
        -- üîπ H√†m farm
        local function StartFarmMixer()
            local char = player.Character or player.CharacterAdded:Wait()
            char:WaitForChild("HumanoidRootPart")
            print("‚úÖ B·∫Øt ƒë·∫ßu farm...")

            while farmingmixer and char.Parent and char:FindFirstChild("Humanoid") and char.Humanoid.Health > 0 do
                for _, point in ipairs(teleportPoints) do
                    TeleportAndClick(table.unpack(point))
                    task.wait(0.1)
                end
                Uongnuoc()
                task.wait(0.3)--speed, warning: could be banned
            end
        end

        -- üîπ Khi ch·∫øt th√¨ spawn l·∫°i
        player.CharacterRemoving:Connect(function()
            print("‚ö∞ Nh√¢n v·∫≠t ch·∫øt, ch·ªù spawn...")
            task.wait(3)
            spawnChar()
        end)

        -- üîπ Khi spawn th√¨ farm
        player.CharacterAdded:Connect(function(char)
            task.spawn(function()
                char:WaitForChild("HumanoidRootPart")
                task.wait(1)
                StartFarmMixer()
            end)
        end)

        -- üîπ N·∫øu ƒëang s·ªëng th√¨ farm lu√¥n
        if player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
            task.spawn(StartFarmMixer)
        else
            spawnChar()
        end
        -- Clear texture
        -- LocalScript ƒë·∫∑t trong StarterPlayerScripts
        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("Texture") or obj:IsA("Decal") then
               obj:Destroy()
            end
        end
        local function Autosam()
            while autosam do
                local args = {
                    "Claim1"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Connections"):WaitForChild("Claim_Sam"):FireServer(unpack(args))        
            end
        end



-- toggle ƒë·ªÉ b·∫≠t/t·∫Øt farm
Tab1:AddToggle({
    Name = "Auto Farm Mixer",
    Default = false,
    Callback = function(v)
        farmingmixer = v  -- c·∫≠p nh·∫≠t tr·∫°ng th√°i
        if v then
            task.spawn(StartFarmMixer) -- b·∫≠t farm (ch·∫°y ·ªü thread ri√™ng)
        end
    end
})

Tab1:AddToggle({
    Name = "Auto Sam",
    Default = false,
    Callback = function(v)
        autosam = v  -- c·∫≠p nh·∫≠t tr·∫°ng th√°i
        if v then
            task.spawn(Autosam) -- b·∫≠t farm (ch·∫°y ·ªü thread ri√™ng)
        end
    end
})





-- L·∫•y list t√™n ƒë·∫£o ƒë·ªÉ add v√†o dropdown
local IslandNames = {}
for name, _ in pairs(Islands) do
    table.insert(IslandNames, name)
end

-- T·∫°o dropdown
local Dropdown = Tab1:AddDropdown({
    Name = "Islands List",
    Description = "Select the <font color='rgb(88, 101, 242)'>Island</font>",
    Options = IslandNames,
    Default = IslandNames[1],
    Flag = "IslandDropdown",
    Callback = function(Value)
        -- Teleport player ƒë·∫øn t·ªça ƒë·ªô
        local player = game.Players.LocalPlayer
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")

        local pos = Islands[Value]
        if pos then
            hrp.CFrame = CFrame.new(pos)
        end
    end
})
